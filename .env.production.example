# ═══════════════════════════════════════════════════════════════════════════════
# VARIABLES D'ENVIRONNEMENT - PRODUCTION
# Portail Cabinet d'Avocats
#
# INSTRUCTIONS:
# 1. Copier ce fichier et le renommer en .env
# 2. Remplir TOUTES les valeurs marquees <REQUIRED>
# 3. Ne JAMAIS committer le fichier .env dans Git
# 4. Utiliser des mots de passe forts (32+ caracteres)
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────
# APPLICATION
# ─────────────────────────────────────────────────────────────────────────────
NODE_ENV=production
TZ=Europe/Paris
PORT=3333
HOST=0.0.0.0
LOG_LEVEL=info

# Cle de chiffrement de l'application (OBLIGATOIRE)
# Generer avec: node ace generate:key
APP_KEY=<REQUIRED_GENERATE_WITH_node_ace_generate_key>

# URL publique de l'application (pour CORS et redirections)
APP_URL=https://votredomaine.fr

# ─────────────────────────────────────────────────────────────────────────────
# SESSION
# ─────────────────────────────────────────────────────────────────────────────
SESSION_DRIVER=cookie

# ─────────────────────────────────────────────────────────────────────────────
# BASE DE DONNEES - PostgreSQL
# ─────────────────────────────────────────────────────────────────────────────
# En production avec Docker Compose, utiliser le nom du service: postgres
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=<REQUIRED_STRONG_PASSWORD_32_CHARS_MIN>
DB_DATABASE=portail_cabinet

# ─────────────────────────────────────────────────────────────────────────────
# EMAIL - Resend
# ─────────────────────────────────────────────────────────────────────────────
# Obtenir une cle API sur https://resend.com
RESEND_API_KEY=<REQUIRED_RESEND_API_KEY>
EMAIL_FROM=noreply@votredomaine.fr

# ─────────────────────────────────────────────────────────────────────────────
# MICROSOFT - OneDrive Integration
# ─────────────────────────────────────────────────────────────────────────────
# Configurer dans Azure Portal > App registrations
# https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps
#
# Permissions requises (Microsoft Graph):
# - Files.ReadWrite.All
# - User.Read
#
MICROSOFT_CLIENT_ID=<OPTIONAL_AZURE_APP_CLIENT_ID>
MICROSOFT_CLIENT_SECRET=<OPTIONAL_AZURE_APP_SECRET>
MICROSOFT_TENANT_ID=<OPTIONAL_AZURE_TENANT_ID>
MICROSOFT_REDIRECT_URI=https://votredomaine.fr/api/admin/microsoft/callback

# ─────────────────────────────────────────────────────────────────────────────
# GOOGLE - Calendar Integration
# ─────────────────────────────────────────────────────────────────────────────
# Configurer dans Google Cloud Console > APIs & Services > Credentials
# https://console.cloud.google.com/apis/credentials
#
# APIs requises:
# - Google Calendar API
#
GOOGLE_CLIENT_ID=<OPTIONAL_GOOGLE_CLIENT_ID>
GOOGLE_CLIENT_SECRET=<OPTIONAL_GOOGLE_CLIENT_SECRET>
GOOGLE_REDIRECT_URI=https://votredomaine.fr/api/admin/google/callback

# ═══════════════════════════════════════════════════════════════════════════════
# NOTES DE SECURITE
# ═══════════════════════════════════════════════════════════════════════════════
#
# 1. APP_KEY: Generer une nouvelle cle unique pour chaque environnement
#    Commande: node ace generate:key
#
# 2. DB_PASSWORD: Utiliser un mot de passe fort
#    Exemple: openssl rand -base64 32
#
# 3. OAuth Secrets: Regenerer regulierement (tous les 6 mois)
#
# 4. Ne JAMAIS exposer ce fichier:
#    - Verifier que .env est dans .gitignore
#    - Utiliser les secrets de Coolify/Docker
#
# 5. Apres le premier deploiement:
#    - Changer le mot de passe admin par defaut (Admin123!)
#    - Activer le 2FA pour tous les admins
#
# ═══════════════════════════════════════════════════════════════════════════════
